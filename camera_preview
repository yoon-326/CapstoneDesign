from picamera2 import Picamera2
import cv2
import time

# -----------------------------
# ì¹´ë©”ë¼ 0, ì¹´ë©”ë¼ 1 ì´ˆê¸°í™”
# -----------------------------
cam0 = Picamera2(0)
cam1 = Picamera2(1)

# í•´ìƒë„ ì„¤ì •
config0 = cam0.create_preview_configuration(main={"size": (1280, 720)})
config1 = cam1.create_preview_configuration(main={"size": (1280, 720)})

cam0.configure(config0)
cam1.configure(config1)

cam0.start()
cam1.start()

print("ğŸ“· Camera0 Â· Camera1 Preview ì‹œì‘ (ì¢…ë£Œ: 'q')")

# ì¹´ë©”ë¼ ì•ˆì •í™” ì‹œê°„
time.sleep(0.2)

while True:
    frame0 = cam0.capture_array()
    frame1 = cam1.capture_array()

    cv2.imshow("Camera 0", frame0)
    cv2.imshow("Camera 1", frame1)

    # ì¢…ë£Œ í‚¤
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cam0.stop()
cam1.stop()
cv2.destroyAllWindows()
print("âœ… ë‘ ì¹´ë©”ë¼ ë¯¸ë¦¬ë³´ê¸° ì¢…ë£Œ")
